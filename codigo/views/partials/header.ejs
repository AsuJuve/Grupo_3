<link rel="stylesheet" href="/css/header.css">
<nav id="navBar">
    <div class="left-side">
        <div class="menu-icon">
            <span class="fas fa-bars">
                <img src="/images/icons/Hamburguesa.svg" alt="Menú Hamburguesa">
            </span>
        </div>
        <div class="cart-icon">
            <span class="invisible">
                <svg width="40" height="40" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M36.282 30.3333C38.032 30.3333 39.572 29.3766 40.3654 27.93L48.7187 12.7866C49.582 11.2466 48.462 9.33329 46.6887 9.33329H12.1554L9.96203 4.66663H2.33203V9.33329H6.9987L15.3987 27.0433L12.2487 32.7366C10.5454 35.8633 12.7854 39.6666 16.332 39.6666H44.332V35H16.332L18.8987 30.3333H36.282ZM14.372 14H42.722L36.282 25.6666H19.902L14.372 14ZM16.332 42C13.7654 42 11.6887 44.1 11.6887 46.6666C11.6887 49.2333 13.7654 51.3333 16.332 51.3333C18.8987 51.3333 20.9987 49.2333 20.9987 46.6666C20.9987 44.1 18.8987 42 16.332 42ZM39.6654 42C37.0987 42 35.022 44.1 35.022 46.6666C35.022 49.2333 37.0987 51.3333 39.6654 51.3333C42.232 51.3333 44.332 49.2333 44.332 46.6666C44.332 44.1 42.232 42 39.6654 42Z" fill="#5157B5"/>
                    </svg>
            </span>
        </div>
    </div>
    <a href="/">
        <div class="logo">
            <img src="/images/icons/Logo-KeepLearning.svg" alt="Logo Keep Learning">
            <h4 class="logoText desktopVisible">Keep Learning</h4>
        </div>
    </a>

    <form action="#" id="busqueda">
        <input type="search" class="search-data" placeholder="¿Qué deseas aprender hoy?" required>
        <button type="submit" class="buscarBtn">
            <img src="/images/icons/Buscar.svg" alt="Buscar">
        </button>
    </form>
    <div class="nav-items">
        <%if(userLogged){%>
        <li class="desktopInvisible"><a href="/users/profile">Perfil</a></li>
        <li class = "desktopInvisible"><a href="/users/login">Cerrar sesión</a></li>
        <%}else{%>
        <li class="desktopInvisible"><a href="/users/login">Inicia sesión</a></li>
        <li class="desktopInvisible"><a href="/users/register">Regístrate</a></li>
        <%}%>
        <li><a href="#">Sobre KL</a></li>
        <li><a href="#">Trabaja en KL</a></li>
    </div>
    <div class="right-side">
        <div class="search-icon">
            <span class="fas fa-search">
                <img src="/images/icons/Buscar.svg" alt="Barra de búsqueda">
            </span>
        </div>
        <div class="cancel-icon">
            <span class="fas fa-times">
                <img src="/images/icons/cerrar.svg" alt="cerrar menú">
            </span>
        </div>
        <a href="/productCart">
            <div class="cart-icon" id="cart-icon">
                <svg width="40" height="40" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M36.282 30.3333C38.032 30.3333 39.572 29.3766 40.3654 27.93L48.7187 12.7866C49.582 11.2466 48.462 9.33329 46.6887 9.33329H12.1554L9.96203 4.66663H2.33203V9.33329H6.9987L15.3987 27.0433L12.2487 32.7366C10.5454 35.8633 12.7854 39.6666 16.332 39.6666H44.332V35H16.332L18.8987 30.3333H36.282ZM14.372 14H42.722L36.282 25.6666H19.902L14.372 14ZM16.332 42C13.7654 42 11.6887 44.1 11.6887 46.6666C11.6887 49.2333 13.7654 51.3333 16.332 51.3333C18.8987 51.3333 20.9987 49.2333 20.9987 46.6666C20.9987 44.1 18.8987 42 16.332 42ZM39.6654 42C37.0987 42 35.022 44.1 35.022 46.6666C35.022 49.2333 37.0987 51.3333 39.6654 51.3333C42.232 51.3333 44.332 49.2333 44.332 46.6666C44.332 44.1 42.232 42 39.6654 42Z" fill="#5157B5"/>
                </svg>
            </div>
        </a>
        <%if(userLogged){%>
            <div class="profile-pic">
                <img src="<%=userLogged.customer_image%>" alt="Foto de perfil" height="48px">
                <h6 class="greetingUser">¡Hola <%=userLogged.customer_firstname%>!</h6>
                <div class="dropdown-content">
                    <a href="/users/profile">Perfil</a>
                    <a href="#">Ayuda</a>
                    <a href="/users/logout" id="logout">Cerrar sesión</a>
                </div>
            </div>
        <%}else{%>
            <div class="not-logged-in">
                <a href="/users/login">
                    <button class="primaryBtn">Inicia sesión</button>
                </a>
                <a href="/users/register">
                    <button class="secondaryBtn">Regístrate</button>
                </a>
            </div>
        <%}%>
    </div>


</nav>
<script>
    const cartBtn = document.getElementById("cart-icon")
    const menuBtn = document.querySelector(".menu-icon span");
    const invisible = document.querySelector(".invisible");
    const searchBtn = document.querySelector(".search-icon");
    const cancelBtn = document.querySelector(".cancel-icon");
    const items = document.querySelector(".nav-items");
    const form = document.querySelector("form");
    menuBtn.onclick = () => {
        items.classList.add("active");
        menuBtn.classList.add("hide");
        searchBtn.classList.add("hide");
        cartBtn.classList.add("hide");
        cancelBtn.classList.add("show");
        invisible.classList.add("hide");
    }
    cancelBtn.onclick = () => {
        items.classList.remove("active");
        menuBtn.classList.remove("hide");
        searchBtn.classList.remove("hide");
        cancelBtn.classList.remove("show");
        form.classList.remove("active");
        cancelBtn.style.color = "#ff3d00";
        cartBtn.classList.remove("hide");
        invisible.classList.remove("hide");
    }
    searchBtn.onclick = () => {
        form.classList.add("active");
        searchBtn.classList.add("hide");
        cancelBtn.classList.add("show");
    }
</script>